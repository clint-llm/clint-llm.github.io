In patients with suspected B12 deficiency, initial lab tests should include a complete blood count (CBC) with a peripheral smear and serum B12 and folate levels. In cases where the diagnosis is still unclear after initial testing, other lab tests, such as MMA and homocysteine levels, are available.

In patients who are deficient in B12, the CBC would show anemia, which manifests as a decrease in both hemoglobin and hematocrit. In addition, the mean corpuscular volume (MCV), which measures the size of red blood cells, would be increased to a level greater than 100. This is consistent with a diagnosis of macrocytic anemia. A peripheral blood smear would show hypersegmented neutrophils, with a portion of the neutrophils having greater than or equal to five lobes.

Serum B12 and folate levels also should be obtained. Folic acid deficiency also presents as macrocytic anemia and is often confused with B12 deficiency. Ordering serum levels of both B12 and folate can help differentiate between the two disease processes. A serum B12 above 300 pg/mL is interpreted as normal. Patients with B12 levels between 200 and 300 pg/mL are considered borderline, and further enzymatic testing may be helpful in diagnosis. Patients with B12 levels below 200 pg/mL are considered deficient. However, a low serum B12 level does not determine the etiology of the deficiency. If the etiology is uncertain, further testing should be done to investigate.

In patients with borderline B12 levels (200 to 300 pg/mL), further enzymatic testing should be performed. As described, B12 deficiency results in the accumulation of MMA and homocysteine. Thus, serum levels of MMA and homocysteine both should be elevated in cases of B12 deficiency. These lab values also can help to distinguish B12 deficiency from folate deficiency, in which homocysteine levels are elevated, but MMA levels are normal.

After a B12 deficiency confirmation, the etiology must be addressed. Often, a surgical history including a gastrectomy, resection of the terminal ileum, or gastric bypass will be the cause. If there is no pertinent surgical history, an appropriate GI workup for causes of malabsorption, such as Crohn's or celiac disease should be performed. In other cases, a history of adherence to a strict vegan diet may be the source. If both the GI and dietary workup is negative, then the cause is likely autoimmune. Blood tests for serum levels of anti-intrinsic factor antibodies may lead to the diagnosis of pernicious anemia. Classically, a test known as the Schilling test was used to diagnose pernicious anemia; however, this test is no longer performed. It involved having the patient orally ingest radiolabeled B12. If the patient excreted the radiolabeled B12 in the urine, it indicated normal B12 absorption. A problem with B12 absorption prevents radiolabeled B12 excretion into the urine, indicating a cause of malabsorption or pernicious anemia.